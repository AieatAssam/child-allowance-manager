@page "/{tenantSuffix:regex(^(?!signin-microsoft/|login/|logout/).*$)}"
@using ChildAllowanceManager.Common.Models
@using Humanizer

<PageTitle>Child Allowance Manager</PageTitle>

<MudPaper Elevation="10" Class="ma-6">
    @foreach (var child in Children ?? Array.Empty<ChildWithBalance>())
    {
        <MudCard>
            <MudCardHeader>
                <MudAvatar Class="mr-3">@child.Name[0]</MudAvatar>
                <MudText Typo="Typo.h5">@child.Name</MudText>
                <MudSpacer></MudSpacer>
                @if (child.IsBirthday)
                {
                    <MudIcon Icon="Icons.Material.Filled.Cake" Color="Color.Success"></MudIcon>
                }
            </MudCardHeader>
            <MudCardContent>
                <MudText Typo="Typo.h6" Color="@(child.Balance > 0 ? Color.Success : Color.Error)">@child.Balance.ToString("C2")</MudText>
                <MudText Typo="Typo.subtitle1">+@child.NextRegularChange.ToString("C2") @child.NextRegularChangeDate.ToLocalTime().Humanize()</MudText>
            </MudCardContent>
        </MudCard>
    }
</MudPaper>

@code {
    
}